<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body>
    <div class="container">
      <div
        class="flex flex-col justify-center w-3/12 m-auto"
        style="height: 100vh"
      >
        <div class="flex border-2 border-b-0">
          <input
            type="text"
            id="inputNew"
            placeholder="0"
            class="text-lg w-full border-2 p-2 text-center border-b-0"
          />
        </div>
        <div class="flex justify-between border-2 border-b-0">
          <button class="w-full p-3 border-2 border-b-0" id="number" value="1">
            1
          </button>
          <button class="w-full p-3 border-2 border-b-0" id="number" value="2">
            2
          </button>
          <button class="w-full p-3 border-2 border-b-0" id="number" value="3">
            3
          </button>
          <button
            class="w-full p-3 bg-blue-600 border-2 text-white border-b-0"
            id="operator"
            value="+"
          >
            +
          </button>
        </div>
        <div class="flex justify-between border-2 border-b-0">
          <button class="w-full p-3 border-2 border-b-0" id="number" value="4">
            4
          </button>
          <button class="w-full p-3 border-2 border-b-0" id="number" value="5">
            5
          </button>
          <button class="w-full p-3 border-2 border-b-0" id="number" value="6">
            6
          </button>
          <button
            class="w-full p-3 bg-slate-600 border-2 text-white border-b-0"
            id="operator"
            value="-"
          >
            -
          </button>
        </div>
        <div class="flex justify-between border-2 border-b-0">
          <button class="w-full p-3 border-2 border-b-0" id="number" value="7">
            7
          </button>
          <button class="w-full p-3 border-2 border-b-0" id="number" value="8">
            8
          </button>
          <button class="w-full p-3 border-2 border-b-0" id="number" value="9">
            9
          </button>
          <button
            class="w-full p-3 bg-red-600 border-2 text-white border-b-0"
            id="operator"
            value="*"
          >
            *
          </button>
        </div>
        <div class="flex justify-between border-2">
          <button class="w-full p-3 border-2 border-b-0" id="number" value="0">
            0
          </button>
          <button
            class="w-full p-3 border-2 border-b-0"
            id="btnResult"
            onclick="btnResult(event)"
          >
            =
          </button>
          <button
            class="w-full p-3 border-2 border-b-0"
            id="reset"
            onclick="reset(event)"
          >
            C
          </button>
          <button
            class="w-full p-3 border-2 border-b-0 bg-pink-600 text-white"
            id="operator"
            value="/"
          >
            /
          </button>
        </div>
      </div>
    </div>

    <script>
      function inputNumber() {
        const numbers = document.querySelectorAll("#number");
        numbers.forEach((number) => {
          number.addEventListener("click", (e) => {
            const inputNew = (document.getElementById("inputNew").value +=
              e.target.value);
          });
        });
      }
      function btnOptr() {
        const optrs = document.querySelectorAll("#operator");
        optrs.forEach((optr) => {
          optr.addEventListener("click", (e) => {
            // let's prevent the user to enter an operation next to each other and it should be number after the operation
            // first list get the last character to the new input value
            // next let check if the last character is equal to the operation
            // if the operatio is equal to the current last character then it will not add to the new input value
            // once input a number it will add to the input value
            let inputVal = document.getElementById("inputNew").value;
            const checkLaskChar = inputVal.slice(-1);
            if(checkLaskChar == '+' || checkLaskChar == '-' || checkLaskChar == '*' || checkLaskChar == '/'){
              inputVal.slice(0, -1);
            } else {
              document.getElementById("inputNew").value += e.target.value;
            }
          });
        });
      }

      function btnResult() {
        let inputNew = document.getElementById("inputNew").value;
        if (inputNew != "") {
          let total = eval(inputNew);
          document.getElementById("inputNew").value = total;
        }
      }

      function reset() {
        document.getElementById("inputNew").value = "";
      }

      inputNumber();
      btnOptr();
    </script>
  </body>
</html>
